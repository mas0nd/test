<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üóÇÔ∏è Local File Access Test</title>
    <style>
        body {
            font-family: 'Courier New', monospace;
            background: #0a0a0a;
            color: #00ff00;
            margin: 0;
            padding: 20px;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
            border: 2px solid #ff0000;
            padding: 20px;
            border-radius: 8px;
            background: #1a0000;
        }
        
        .section {
            background: #1a1a1a;
            border: 2px solid #333;
            margin: 20px 0;
            padding: 20px;
            border-radius: 8px;
        }
        
        .critical { 
            border-color: #ff0000; 
            background: #1a0000; 
        }
        
        .warning { 
            border-color: #ffaa00; 
            background: #1a1500; 
        }
        
        .info { 
            border-color: #4dabf7; 
            background: #001a1a; 
        }
        
        .file-category {
            margin: 20px 0;
            padding: 15px;
            border: 1px solid #444;
            border-radius: 5px;
            background: #2a2a2a;
        }
        
        .category-title {
            font-size: 18px;
            font-weight: bold;
            color: #4dabf7;
            margin-bottom: 15px;
            padding-bottom: 5px;
            border-bottom: 1px solid #444;
        }
        
        .file-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 15px;
            margin: 15px 0;
        }
        
        .file-item {
            background: #000;
            border: 1px solid #333;
            padding: 12px;
            border-radius: 3px;
            transition: all 0.3s;
        }
        
        .file-item:hover {
            border-color: #00ff00;
            background: #001a00;
        }
        
        .file-link {
            color: #4dabf7;
            text-decoration: none;
            font-weight: bold;
            display: block;
            margin-bottom: 5px;
            word-break: break-all;
        }
        
        .file-link:hover {
            color: #00ff00;
        }
        
        .file-link:visited {
            color: #ff6b6b;
        }
        
        .file-description {
            color: #888;
            font-size: 12px;
            margin-bottom: 5px;
        }
        
        .file-risk {
            font-size: 11px;
            padding: 2px 6px;
            border-radius: 3px;
            display: inline-block;
        }
        
        .risk-critical {
            background: #5a1a1a;
            color: #ff6b6b;
        }
        
        .risk-high {
            background: #5a3a1a;
            color: #ffaa00;
        }
        
        .risk-medium {
            background: #3a3a1a;
            color: #ffff00;
        }
        
        .risk-low {
            background: #1a3a1a;
            color: #4dabf7;
        }
        
        .test-results {
            margin-top: 20px;
            padding: 15px;
            background: #2a2a2a;
            border-radius: 5px;
        }
        
        .instructions {
            background: #2a2a2a;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
            border-left: 4px solid #4dabf7;
        }
        
        .warning-box {
            background: #2a1500;
            border: 2px solid #ffaa00;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
        }
        
        .success-indicator {
            color: #00ff00;
            font-weight: bold;
        }
        
        .fail-indicator {
            color: #ff6b6b;
            font-weight: bold;
        }
        
        .status-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 10px;
            margin: 15px 0;
        }
        
        .status-item {
            padding: 8px;
            border-radius: 3px;
            font-size: 12px;
        }
        
        .accessible {
            background: #2a0000;
            border: 1px solid #ff0000;
            color: #ff6b6b;
        }
        
        .blocked {
            background: #002a00;
            border: 1px solid #00ff00;
            color: #00ff00;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üóÇÔ∏è Local File Access Test</h1>
            <p>Testing file:// and chrome:// protocol access from browser isolation</p>
        </div>

        <div class="warning-box">
            <h3>‚ö†Ô∏è SECURITY TESTING WARNING</h3>
            <p>This page tests local file system access and internal browser page access. If any links below are accessible, it indicates a potential security bypass in the browser isolation environment.</p>
            <p><strong>Expected Behavior:</strong> All file:// links should be blocked in a properly isolated browser.</p>
        </div>

        <div class="instructions">
            <h3>üìã Testing Instructions</h3>
            <ol>
                <li>Click on each link below to test accessibility</li>
                <li>Links that load content indicate successful bypass</li>
                <li>Links that show errors or are blocked indicate proper isolation</li>
                <li>Note which links are accessible vs blocked for reporting</li>
                <li>Red/visited links indicate successful access attempts</li>
            </ol>
        </div>

        <!-- Windows Files -->
        <div class="section critical">
            <div class="file-category">
                <div class="category-title">ü™ü Windows System Files</div>
                <div class="file-grid">
                    <div class="file-item">
                        <a href="file:///C:/Windows/System32/drivers/etc/hosts" class="file-link">file:///C:/Windows/System32/drivers/etc/hosts</a>
                        <div class="file-description">Windows hosts file - contains DNS mappings</div>
                        <span class="file-risk risk-high">HIGH RISK</span>
                    </div>
                    <div class="file-item">
                        <a href="file:///C:/Windows/win.ini" class="file-link">file:///C:/Windows/win.ini</a>
                        <div class="file-description">Windows initialization file</div>
                        <span class="file-risk risk-medium">MEDIUM RISK</span>
                    </div>
                    <div class="file-item">
                        <a href="file:///C:/Windows/System32/config/SAM" class="file-link">file:///C:/Windows/System32/config/SAM</a>
                        <div class="file-description">Security Account Manager database</div>
                        <span class="file-risk risk-critical">CRITICAL RISK</span>
                    </div>
                    <div class="file-item">
                        <a href="file:///C:/Windows/System32/config/SYSTEM" class="file-link">file:///C:/Windows/System32/config/SYSTEM</a>
                        <div class="file-description">System registry hive</div>
                        <span class="file-risk risk-critical">CRITICAL RISK</span>
                    </div>
                    <div class="file-item">
                        <a href="file:///C:/Windows/System32/config/SOFTWARE" class="file-link">file:///C:/Windows/System32/config/SOFTWARE</a>
                        <div class="file-description">Software registry hive</div>
                        <span class="file-risk risk-high">HIGH RISK</span>
                    </div>
                    <div class="file-item">
                        <a href="file:///C:/boot.ini" class="file-link">file:///C:/boot.ini</a>
                        <div class="file-description">Boot configuration file (legacy)</div>
                        <span class="file-risk risk-medium">MEDIUM RISK</span>
                    </div>
                    <div class="file-item">
                        <a href="file:///C:/pagefile.sys" class="file-link">file:///C:/pagefile.sys</a>
                        <div class="file-description">Virtual memory paging file</div>
                        <span class="file-risk risk-high">HIGH RISK</span>
                    </div>
                    <div class="file-item">
                        <a href="file:///C:/hiberfil.sys" class="file-link">file:///C:/hiberfil.sys</a>
                        <div class="file-description">Hibernation file with memory dump</div>
                        <span class="file-risk risk-critical">CRITICAL RISK</span>
                    </div>
                </div>
                
                <div class="category-title">üë§ Windows User Files</div>
                <div class="file-grid">
                    <div class="file-item">
                        <a href="file:///C:/Users/" class="file-link">file:///C:/Users/</a>
                        <div class="file-description">Users directory listing</div>
                        <span class="file-risk risk-high">HIGH RISK</span>
                    </div>
                    <div class="file-item">
                        <a href="file:///C:/Users/Administrator/" class="file-link">file:///C:/Users/Administrator/</a>
                        <div class="file-description">Administrator profile directory</div>
                        <span class="file-risk risk-critical">CRITICAL RISK</span>
                    </div>
                    <div class="file-item">
                        <a href="file:///C:/Users/Public/Desktop/" class="file-link">file:///C:/Users/Public/Desktop/</a>
                        <div class="file-description">Public desktop folder</div>
                        <span class="file-risk risk-medium">MEDIUM RISK</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- macOS Files -->
        <div class="section critical">
            <div class="file-category">
                <div class="category-title">üçé macOS System Files</div>
                <div class="file-grid">
                    <div class="file-item">
                        <a href="file:///etc/hosts" class="file-link">file:///etc/hosts</a>
                        <div class="file-description">macOS hosts file - DNS mappings</div>
                        <span class="file-risk risk-high">HIGH RISK</span>
                    </div>
                    <div class="file-item">
                        <a href="file:///etc/passwd" class="file-link">file:///etc/passwd</a>
                        <div class="file-description">User account information</div>
                        <span class="file-risk risk-critical">CRITICAL RISK</span>
                    </div>
                    <div class="file-item">
                        <a href="file:///etc/shadow" class="file-link">file:///etc/shadow</a>
                        <div class="file-description">Password shadow file</div>
                        <span class="file-risk risk-critical">CRITICAL RISK</span>
                    </div>
                    <div class="file-item">
                        <a href="file:///etc/sudoers" class="file-link">file:///etc/sudoers</a>
                        <div class="file-description">Sudo configuration file</div>
                        <span class="file-risk risk-critical">CRITICAL RISK</span>
                    </div>
                    <div class="file-item">
                        <a href="file:///Library/Preferences/" class="file-link">file:///Library/Preferences/</a>
                        <div class="file-description">System preferences directory</div>
                        <span class="file-risk risk-high">HIGH RISK</span>
                    </div>
                    <div class="file-item">
                        <a href="file:///System/Library/CoreServices/SystemVersion.plist" class="file-link">file:///System/Library/CoreServices/SystemVersion.plist</a>
                        <div class="file-description">macOS version information</div>
                        <span class="file-risk risk-medium">MEDIUM RISK</span>
                    </div>
                </div>
                
                <div class="category-title">üè† macOS User Files</div>
                <div class="file-grid">
                    <div class="file-item">
                        <a href="file:///Users/" class="file-link">file:///Users/</a>
                        <div class="file-description">Users directory listing</div>
                        <span class="file-risk risk-high">HIGH RISK</span>
                    </div>
                    <div class="file-item">
                        <a href="file:///Users/Shared/" class="file-link">file:///Users/Shared/</a>
                        <div class="file-description">Shared users directory</div>
                        <span class="file-risk risk-medium">MEDIUM RISK</span>
                    </div>
                    <div class="file-item">
                        <a href="file:///.ssh/id_rsa" class="file-link">file:///.ssh/id_rsa</a>
                        <div class="file-description">SSH private key</div>
                        <span class="file-risk risk-critical">CRITICAL RISK</span>
                    </div>
                    <div class="file-item">
                        <a href="file:///.ssh/known_hosts" class="file-link">file:///.ssh/known_hosts</a>
                        <div class="file-description">SSH known hosts</div>
                        <span class="file-risk risk-high">HIGH RISK</span>
                    </div>
                    <div class="file-item">
                        <a href="file:///.aws/credentials" class="file-link">file:///.aws/credentials</a>
                        <div class="file-description">AWS credentials file</div>
                        <span class="file-risk risk-critical">CRITICAL RISK</span>
                    </div>
                    <div class="file-item">
                        <a href="file:///.bashrc" class="file-link">file:///.bashrc</a>
                        <div class="file-description">Bash configuration file</div>
                        <span class="file-risk risk-medium">MEDIUM RISK</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Linux Files -->
        <div class="section critical">
            <div class="file-category">
                <div class="category-title">üêß Linux System Files</div>
                <div class="file-grid">
                    <div class="file-item">
                        <a href="file:///etc/passwd" class="file-link">file:///etc/passwd</a>
                        <div class="file-description">Linux user account database</div>
                        <span class="file-risk risk-critical">CRITICAL RISK</span>
                    </div>
                    <div class="file-item">
                        <a href="file:///etc/shadow" class="file-link">file:///etc/shadow</a>
                        <div class="file-description">Linux password shadow file</div>
                        <span class="file-risk risk-critical">CRITICAL RISK</span>
                    </div>
                    <div class="file-item">
                        <a href="file:///etc/hosts" class="file-link">file:///etc/hosts</a>
                        <div class="file-description">Linux hosts file</div>
                        <span class="file-risk risk-high">HIGH RISK</span>
                    </div>
                    <div class="file-item">
                        <a href="file:///etc/sudoers" class="file-link">file:///etc/sudoers</a>
                        <div class="file-description">Sudo configuration</div>
                        <span class="file-risk risk-critical">CRITICAL RISK</span>
                    </div>
                    <div class="file-item">
                        <a href="file:///etc/fstab" class="file-link">file:///etc/fstab</a>
                        <div class="file-description">Filesystem mount table</div>
                        <span class="file-risk risk-high">HIGH RISK</span>
                    </div>
                    <div class="file-item">
                        <a href="file:///proc/version" class="file-link">file:///proc/version</a>
                        <div class="file-description">Kernel version information</div>
                        <span class="file-risk risk-medium">MEDIUM RISK</span>
                    </div>
                    <div class="file-item">
                        <a href="file:///proc/cpuinfo" class="file-link">file:///proc/cpuinfo</a>
                        <div class="file-description">CPU information</div>
                        <span class="file-risk risk-medium">MEDIUM RISK</span>
                    </div>
                    <div class="file-item">
                        <a href="file:///proc/meminfo" class="file-link">file:///proc/meminfo</a>
                        <div class="file-description">Memory information</div>
                        <span class="file-risk risk-medium">MEDIUM RISK</span>
                    </div>
                </div>
                
                <div class="category-title">üè† Linux User Files</div>
                <div class="file-grid">
                    <div class="file-item">
                        <a href="file:///home/" class="file-link">file:///home/</a>
                        <div class="file-description">Home directory listing</div>
                        <span class="file-risk risk-high">HIGH RISK</span>
                    </div>
                    <div class="file-item">
                        <a href="file:///root/" class="file-link">file:///root/</a>
                        <div class="file-description">Root user home directory</div>
                        <span class="file-risk risk-critical">CRITICAL RISK</span>
                    </div>
                    <div class="file-item">
                        <a href="file:///home/.ssh/id_rsa" class="file-link">file:///home/.ssh/id_rsa</a>
                        <div class="file-description">SSH private key</div>
                        <span class="file-risk risk-critical">CRITICAL RISK</span>
                    </div>
                    <div class="file-item">
                        <a href="file:///var/log/auth.log" class="file-link">file:///var/log/auth.log</a>
                        <div class="file-description">Authentication logs</div>
                        <span class="file-risk risk-high">HIGH RISK</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Chrome Internal Pages -->
        <div class="section warning">
            <div class="file-category">
                <div class="category-title">üîß Chrome Internal Pages</div>
                <div class="file-grid">
                    <div class="file-item">
                        <a href="chrome://settings/" class="file-link">chrome://settings/</a>
                        <div class="file-description">Chrome settings page</div>
                        <span class="file-risk risk-high">HIGH RISK</span>
                    </div>
                    <div class="file-item">
                        <a href="chrome://flags/" class="file-link">chrome://flags/</a>
                        <div class="file-description">Chrome experimental features</div>
                        <span class="file-risk risk-critical">CRITICAL RISK</span>
                    </div>
                    <div class="file-item">
                        <a href="chrome://extensions/" class="file-link">chrome://extensions/</a>
                        <div class="file-description">Chrome extensions management</div>
                        <span class="file-risk risk-high">HIGH RISK</span>
                    </div>
                    <div class="file-item">
                        <a href="chrome://downloads/" class="file-link">chrome://downloads/</a>
                        <div class="file-description">Chrome downloads page</div>
                        <span class="file-risk risk-medium">MEDIUM RISK</span>
                    </div>
                    <div class="file-item">
                        <a href="chrome://history/" class="file-link">chrome://history/</a>
                        <div class="file-description">Chrome browsing history</div>
                        <span class="file-risk risk-high">HIGH RISK</span>
                    </div>
                    <div class="file-item">
                        <a href="chrome://bookmarks/" class="file-link">chrome://bookmarks/</a>
                        <div class="file-description">Chrome bookmarks manager</div>
                        <span class="file-risk risk-medium">MEDIUM RISK</span>
                    </div>
                    <div class="file-item">
                        <a href="chrome://version/" class="file-link">chrome://version/</a>
                        <div class="file-description">Chrome version information</div>
                        <span class="file-risk risk-low">LOW RISK</span>
                    </div>
                    <div class="file-item">
                        <a href="chrome://net-internals/" class="file-link">chrome://net-internals/</a>
                        <div class="file-description">Chrome network internals</div>
                        <span class="file-risk risk-high">HIGH RISK</span>
                    </div>
                    <div class="file-item">
                        <a href="chrome://policy/" class="file-link">chrome://policy/</a>
                        <div class="file-description">Chrome policy information</div>
                        <span class="file-risk risk-critical">CRITICAL RISK</span>
                    </div>
                    <div class="file-item">
                        <a href="chrome://chrome-urls/" class="file-link">chrome://chrome-urls/</a>
                        <div class="file-description">List of all Chrome URLs</div>
                        <span class="file-risk risk-medium">MEDIUM RISK</span>
                    </div>
                    <div class="file-item">
                        <a href="chrome://crashes/" class="file-link">chrome://crashes/</a>
                        <div class="file-description">Chrome crash reports</div>
                        <span class="file-risk risk-medium">MEDIUM RISK</span>
                    </div>
                    <div class="file-item">
                        <a href="chrome://gpu/" class="file-link">chrome://gpu/</a>
                        <div class="file-description">GPU and graphics information</div>
                        <span class="file-risk risk-low">LOW RISK</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Additional Browser Protocols -->
        <div class="section info">
            <div class="file-category">
                <div class="category-title">üåê Other Browser Protocols</div>
                <div class="file-grid">
                    <div class="file-item">
                        <a href="about:config" class="file-link">about:config</a>
                        <div class="file-description">Firefox configuration (if applicable)</div>
                        <span class="file-risk risk-high">HIGH RISK</span>
                    </div>
                    <div class="file-item">
                        <a href="edge://settings/" class="file-link">edge://settings/</a>
                        <div class="file-description">Microsoft Edge settings</div>
                        <span class="file-risk risk-high">HIGH RISK</span>
                    </div>
                    <div class="file-item">
                        <a href="edge://flags/" class="file-link">edge://flags/</a>
                        <div class="file-description">Microsoft Edge experimental features</div>
                        <span class="file-risk risk-critical">CRITICAL RISK</span>
                    </div>
                    <div class="file-item">
                        <a href="opera://settings/" class="file-link">opera://settings/</a>
                        <div class="file-description">Opera browser settings</div>
                        <span class="file-risk risk-high">HIGH RISK</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="test-results">
            <h3>üìä Test Results Summary</h3>
            <p>Document your findings below as you test each link:</p>
            <div class="status-grid">
                <div class="status-item blocked">‚úÖ BLOCKED - Link shows error or access denied</div>
                <div class="status-item accessible">üö® ACCESSIBLE - Link loads content successfully</div>
            </div>
            <p><strong>Security Impact:</strong></p>
            <ul>
                <li><span class="success-indicator">All links blocked</span> = Browser isolation is working correctly</li>
                <li><span class="fail-indicator">Some/all links accessible</span> = Critical security bypass detected</li>
            </ul>
        </div>
    </div>

    <script>
        // Track which links have been clicked and their status
        const linkResults = {};
        
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üóÇÔ∏è Local File Access Test loaded');
            console.log('Click links to test file:// and chrome:// protocol access');
            
            // Add click tracking to all file links
            const fileLinks = document.querySelectorAll('.file-link');
            fileLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    const url = this.href;
                    console.log(`Testing access to: ${url}`);
                    
                    // Log the attempt
                    linkResults[url] = {
                        attempted: true,
                        timestamp: new Date().toISOString(),
                        protocol: url.split(':')[0]
                    };
                    
                    // Change style to indicate attempt
                    this.style.fontWeight = 'bold';
                    
                    // Try to detect if link was successful (limited detection possible)
                    setTimeout(() => {
                        if (document.hasFocus()) {
                            console.log(`Link may have been blocked: ${url}`);
                            linkResults[url].likely_blocked = true;
                        } else {
                            console.log(`Link may have opened: ${url}`);
                            linkResults[url].likely_opened = true;
                        }
                    }, 1000);
                });
            });
        });
        
        // Function to export test results
        function exportTestResults() {
            const results = {
                timestamp: new Date().toISOString(),
                userAgent: navigator.userAgent,
                domain: window.location.hostname,
                testResults: linkResults,
                summary: {
                    totalLinks: document.querySelectorAll('.file-link').length,
                    attemptedLinks: Object.keys(linkResults).length,
                    protocols: {
                        file: Object.keys(linkResults).filter(url => url.startsWith('file:')).length,
                        chrome: Object.keys(linkResults).filter(url => url.startsWith('chrome:')).length,
                        other: Object.keys(linkResults).filter(url => !url.startsWith('file:') && !url.startsWith('chrome:')).length
                    }
                }
            };
            
            console.log('Local file access test results:', results);
            return results;
        }
        
        // Add export functionality
        window.exportTestResults = exportTestResults;
        
        // Console helper
        console.log('Use exportTestResults() to get detailed test results');
    </script>
</body>
</html>
